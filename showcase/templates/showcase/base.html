{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Component Showcase{% endblock %} - Django IncludeContents</title>
    <link rel="stylesheet" href="{% static 'showcase/css/showcase.css' %}">
    <link rel="stylesheet" href="{% static 'showcase/css/tokens.css' %}">
    {% block extra_head %}{% endblock %}
</head>
<body>
    <div class="showcase-container">
        <!-- Sidebar Toggle -->
        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle sidebar">
            <span class="toggle-icon">â˜°</span>
        </button>

        <!-- Sidebar Navigation -->
        <aside class="showcase-sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1><a href="{% url 'showcase:index' %}">Showcase</a></h1>
                <p class="sidebar-subtitle">Component Library</p>
            </div>

            <!-- Search -->
            <div class="sidebar-search">
                <form action="{% url 'showcase:search' %}" method="get">
                    <input type="search" name="q" placeholder="Search components..." value="{{ query|default:'' }}">
                </form>
            </div>

            <!-- Component Categories -->
            <nav class="sidebar-nav">
                <h3>Components</h3>
                <ul class="category-list">
                    {% for category, count in categories %}
                    <li>
                        <a href="{% url 'showcase:category' category|lower|slugify %}">
                            {{ category }}
                            <span class="count">{{ count }}</span>
                        </a>
                    </li>
                    {% endfor %}
                </ul>
            </nav>

            <!-- Design Tokens -->
            <nav class="sidebar-nav">
                <h3>Design Tokens</h3>

                <!-- Style Dictionary Tokens -->
                <div class="token-section">
                    <h4><a href="{% url 'showcase:tokens_index' %}">Style Dictionary</a></h4>
                    {% if token_categories %}
                    <ul class="category-list">
                        {% for category in token_categories %}
                        <li>
                            <a href="{% url 'showcase:token_category' category.slug %}">
                                {{ category.name }}
                                <span class="count">{{ category.count }}</span>
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </div>

                <!-- Tailwind Tokens -->
                <div class="token-section">
                    <h4><a href="{% url 'showcase:tailwind_tokens_index' %}">Tailwind</a></h4>
                    {% if tailwind_token_categories %}
                    <ul class="category-list">
                        {% for category in tailwind_token_categories %}
                        <li>
                            <a href="{% url 'showcase:tailwind_token_category' category.slug %}">
                                {{ category.name }}
                                <span class="count">{{ category.count }}</span>
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% else %}
                    <p class="no-tokens-message">
                        <small>No Tailwind tokens found</small>
                    </p>
                    {% endif %}
                </div>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="showcase-main">
            {% block content %}{% endblock %}
        </main>
    </div>

    <script src="{% static 'showcase/js/prop-editor.js' %}"></script>
    <script src="{% static 'showcase/js/copy-clipboard.js' %}"></script>
    <script src="{% static 'showcase/js/sidebar-toggle.js' %}"></script>
    <script src="{% static 'showcase/js/tokens.js' %}"></script>
    {% block extra_scripts %}{% endblock %}
</body>
</html>